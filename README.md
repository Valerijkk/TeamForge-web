# TeamForge ‚Äì —á–∞—Ç –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤

> **TeamForge** ‚Äì —ç—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —á–∞—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (SPA –Ω–∞ React) —Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç—å—é –Ω–∞ Flask+Socket.IO –∏ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite.  
> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏—á–Ω—ã–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã, –ø–µ—Ä–µ—Å—ã–ª–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–≤–µ—Ç—ã, —Ä–µ–∞–∫—Ü–∏–∏ (–ª–∞–π–∫, —Å–µ—Ä–¥–µ—á–∫–æ), –∞ —Ç–∞–∫–∂–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π ¬´–¥–ª—è –≤—Å–µ—Ö¬ª –∏–ª–∏ ¬´—Ç–æ–ª—å–∫–æ —É —Å–µ–±—è¬ª.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π).
- **–°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤** —Å –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω** —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ —Ñ–∞–π–ª–∞–º–∏ (Socket.IO).
- **–ü–æ–∏—Å–∫** –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ —á–∞—Ç–µ.
- **–†–µ–∞–∫—Ü–∏–∏** –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´üëç¬ª, ¬´‚ù§Ô∏è¬ª), –≤–∏–¥–∏–º—ã–µ –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º.
- **–£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π**:
   - ¬´–£–¥–∞–ª–∏—Ç—å —É –≤—Å–µ—Ö¬ª ‚Äì —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç —É –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–∞—Ç–∞.
   - ¬´–£–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ —É —Å–µ–±—è¬ª ‚Äì —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –ª–∏—à—å —É —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–û—Ç–≤–µ—Ç—ã –∏ –ø–µ—Ä–µ—Å—ã–ª–∫–∞** —Å–æ–æ–±—â–µ–Ω–∏–π (—Å –æ—Ç–º–µ—Ç–∫–æ–π ¬´–ø–µ—Ä–µ—Å–ª–∞–Ω–æ –æ—Ç ...¬ª –∏–ª–∏ ¬´–æ—Ç–≤–µ—Ç –Ω–∞ ...¬ª).
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (–∏—Ö –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å/–≤–∫–ª—é—á–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —á–∞—Ç–∞).
- **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Ç–∞–º, —Å–æ–æ–±—â–µ–Ω–∏—è–º, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –∏–ª–∏ –≤–æ–∑—å–º–∏—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º.
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
   - –ë—ç–∫–µ–Ω–¥ (–≤ –ø–∞–ø–∫–µ, –≥–¥–µ –ª–µ–∂–∏—Ç `app.py`):
     ```bash
     pip install -r requirements.txt
     ```
   - –§—Ä–æ–Ω—Ç–µ–Ω–¥ (–≤ –ø–∞–ø–∫–µ `frontend`):
     ```bash
     npm install
     ```
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** (Flask + Socket.IO):
   ```bash
   python app.py
   ```
   –û–Ω –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:5000`.
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** (React):
   ```bash
   cd frontend
   npm start
   ```
   –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:3000`.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (REST)

| **Method** | **Endpoint**                         | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                               |
|------------|--------------------------------------|-------------------------------------------------------------------------------------------------------------|
| **POST**   | `/register`                          | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í —Ç–µ–ª–µ: `{ "username": "...", "password": "..." }`.                        |
| **POST**   | `/login`                             | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ ‚Äì –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ "status": "success", "user_id": ... }`.                           |
| **GET**    | `/users`                             | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞).                                       |
| **POST**   | `/create_chat`                       | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞. –í —Ç–µ–ª–µ: `{ "name": "...", "user_ids": [...], "creator_id": ... }`.         |
| **GET**    | `/user_chats/<user_id>`              | –ß–∞—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —É—á–∞—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `<user_id>`.                                                         |
| **GET**    | `/messages/<chat_id>?user_id=..&q=..`| –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ `<chat_id>`, –∏—Å–∫–ª—é—á–∞—è —É–¥–∞–ª—ë–Ω–Ω—ã–µ —ç—Ç–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ü–∞—Ä–∞–º–µ—Ç—Ä `q` ‚Äì –ø–æ–∏—Å–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É. |
| **POST**   | `/upload`                            | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞. –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `{"filename": "..."} ‚Äì –∏–º—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.                               |
| **GET**    | `/uploads/<filename>`                | –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ –∏–º–µ–Ω–∏.                                                                      |
| **DELETE** | `/messages/<message_id>?mode=...`    | –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (mode=everyone ‚Äì –¥–ª—è –≤—Å–µ—Ö, mode=me ‚Äì —Ç–æ–ª—å–∫–æ —É —Å–µ–±—è). –ü–∞—Ä–∞–º–µ—Ç—Ä `user_id` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.      |
| **POST**   | `/forward_message`                   | –ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è. –í —Ç–µ–ª–µ: `{ "message_id": ..., "to_chat_id": ..., "user_id": ... }`.                    |
| **GET**    | `/profile_data/<user_id>`            | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Ç–æ–≤, —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.                           |

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è Socket.IO

| **–°–æ–±—ã—Ç–∏–µ**               | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                                    |
|---------------------------|------------------------------------------------------------------------------------------------------------------|
| `join`                    | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ¬´–≤—Ö–æ–¥–∏—Ç¬ª –≤ –∫–æ–º–Ω–∞—Ç—É —á–∞—Ç–∞. –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–∞ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏–µ `status` ("username –≤–æ—à—ë–ª –≤ —á–∞—Ç").     |
| `leave`                   | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ¬´–≤—ã—Ö–æ–¥–∏—Ç¬ª –∏–∑ –∫–æ–º–Ω–∞—Ç—ã —á–∞—Ç–∞. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç `status` ("username –ø–æ–∫–∏–Ω—É–ª(–∞) —á–∞—Ç").                 |
| `send_message`            | –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (—Å–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `receive_message`, –≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –≤ —á–∞—Ç–µ –µ–≥–æ –ø–æ–ª—É—á–∞—Ç).                 |
| `receive_message`         | –ü—Ä–∏—Ö–æ–¥ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–≤—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–∞ –≤–∏–¥—è—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ).                                         |
| `send_reaction`           | –ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Å–µ—Ä–≤–µ—Ä –≤ –æ—Ç–≤–µ—Ç —à–ª—ë—Ç `receive_reaction`, –≤—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –æ–±–Ω–æ–≤—è—Ç —Ä–µ–∞–∫—Ü–∏—é).         |
| `receive_reaction`        | –ü—Ä–∏—Ö–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ.                                                                       |
| `update_notification`     | –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –¥–∞–Ω–Ω–æ–º —á–∞—Ç–µ.                                       |
| `notification_updated`    | –°–µ—Ä–≤–µ—Ä —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.                                                                |
| `message_deleted_for_all` | –°–µ—Ä–≤–µ—Ä –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ ¬´–¥–ª—è –≤—Å–µ—Ö¬ª (–≤—Å–µ –¥–æ–ª–∂–Ω—ã —É–±—Ä–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞).                |
| `message_deleted_for_user`| –°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ ¬´—Ç–æ–ª—å–∫–æ —É –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è¬ª (—ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ; –¥–ª—è –¥—Ä—É–≥–∏—Ö –æ–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è). |

---

## –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª–µ–π –º–æ–¥–µ–ª–∏ Message

| **–ü–æ–ª–µ**            | **–¢–∏–ø**         | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                                                                       |
|---------------------|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| `id`                | `Integer (PK)`  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è.                                                                                                                |
| `chat_id`           | `Integer (FK)`  | –ö–∞–∫–æ–º—É —á–∞—Ç—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.                                                                                                                 |
| `sender_id`         | `Integer (FK)`  | –ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ.                                                                                                                            |
| `content`           | `Text`          | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª).                                                                                |
| `timestamp`         | `DateTime`      | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `datetime.utcnow`).                                                                                         |
| `media_filename`    | `String(120)`   | –ò–º—è —Ñ–∞–π–ª–∞, –µ—Å–ª–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω (—Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ –ø–∞–ø–∫–µ `/uploads`).                                                                                |
| `deleted_for_all`   | `Boolean`       | –§–ª–∞–≥, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´—É–¥–∞–ª–µ–Ω–æ –¥–ª—è –≤—Å–µ—Ö¬ª (–∫–ª–∏–µ–Ω—Ç–∞–º –æ–Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è).                                                                              |
| `reply_to_id`       | `Integer (FK)`  | –ï—Å–ª–∏ —ç—Ç–æ ¬´–æ—Ç–≤–µ—Ç¬ª –Ω–∞ –¥—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —Ö—Ä–∞–Ω–∏—Ç `id` —Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. `None`, –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ.                                          |
| `forwarded_from_id` | `Integer (FK)`  | –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–ø–µ—Ä–µ—Å–ª–∞–Ω–æ¬ª, —Ö—Ä–∞–Ω–∏—Ç `id` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç –∫–æ–≥–æ –æ–Ω–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ. `None`, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.                           |

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è **¬´–∫–∞–∫ –µ—Å—Ç—å¬ª** –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω—É–∂–¥. –í—ã –º–æ–∂–µ—Ç–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª. –õ—é–±–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∫–æ–¥–∏–Ω–≥–∞ —Å **TeamForge**.